<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Додавання вчителя</title>
    <link rel="stylesheet" type="text/css" href="/css/globalStyle.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <style>
        fieldset.scheduler-border {
            border: 3px groove #4caf50;
            padding: 0 1.4em 1.4em 1.4em;
            margin: 0;
            -webkit-box-shadow:  0px 0px 0px 0px #000;
            box-shadow:  0px 0px 0px 0px #000;
        }

        legend.scheduler-border {
            width:inherit;
            padding:0 10px;
            border-bottom:none;
        }

        label {
            display: table-cell;
            vertical-align: middle;
            font-size: 18px;
        }

    </style>
    <script src="/js/JS.js"></script>
</head>
<body>
<div class="container">
    <div class="header">
        <span style="float: right; margin-right: 10px; margin-top: 15px"><a href="/admin">Домашня сторінка</a></span>
        <span style="float: left; margin-left: 10px; margin-top: 15px" id="loggeduser">Ви увійшли як Admin01</span>
        <span style="float: left; margin-left: 35%; margin-top: 15px" id="status"> Статус: Адміністратор</span>
        <span style="float: right; margin-right: 10px; margin-top: 15px"><a href="/"> Вийти</a></span>
    </div>
    <div id="message" align="center"></div>
    <div align="center" style="margin-bottom: 50px">
        <h1>ДОДАВАННЯ НОВОГО ВЧИТЕЛЯ</h1>
    </div>
    <form class="form-horizontal">
        <fieldset class="scheduler-border">
            <legend class="scheduler-border">Особита інформація</legend>
            <div class="form-group">
                <label class="control-label col-sm-2" for="lastName">Прізвище:</label>
                <div class="col-sm-10"><input class="form-control" id="lastName" type="text" name="lastname" required></div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-2" for="firstName">Ім'я:</label>
                <div class="col-sm-10"><input class="form-control" id="firstName" type="text" name="firstname" required></div>
            </div>

            <div class="form-group">
                <label class="control-label col-sm-2" for="patronymic">По-батькові:</label>
                <div class="col-sm-10"><input class="form-control" id="patronymic" type="text" name="patronymic" required></div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-2" for="login">Логін:</label>
                <div class="col-sm-10"><input class="form-control" id="login" type="text" name="login"></div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-2" for="dateOfBirth">Дата народження:</label>
                <div class="col-sm-10"><input class="date-picker-popup" id="dateOfBirth" type="date" name="dateOfBirth" required></div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-2" for="mail">Електронна адреса:</label>
                <div class="col-sm-10"><input class="form-control" id="mail" type="text" name="email"></div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-2" for="mobile">Телефон:</label>
                <div class="col-sm-10"><input class="form-control" id="mobile" type="text" name="phone"></div>
            </div>
            <div class="form-group">
                <button class="btn btn-success center-block" id="submitButton" type="Submit" style="margin: 0 auto">Зберегти</button>
            </div>
        </fieldset>
        <hr>
    </form>
</div>
<script type="text/javascript">
    $(function() {
        $(".header").load("/views/header.html");
    });
</script>
<script type="text/javascript">
    $(document).ready(function () {
        $('form').on('submit', function (e) {

            e.preventDefault();
            var firstName   = $("#firstName").val();
            var lastName    = $("#lastName").val();
            var patronymic  = $("#patronymic").val();
            var dateOfBirth = $("#dateOfBirth").val();
            var login       = $("#login").val();
            var mail        = $("#mail").val();
            var mobile      = $("#mobile").val();

            $.ajax({
                type: "post",
                url: host + "teachers",
                dataType: "json",
                data: JSON.stringify({
                    "firstname"  :   firstName,
                    "lastname"   :   lastName,
                    "patronymic" :   patronymic,
                    "dateOfBirth":   dateOfBirth,
                    "login"      :   login,
                    "email"      :   mail,
                    "phone"      :   mobile
                }),
                contentType: "application/json",

                success: function (responce) {
                    $(":input").val("");
                    $("#message").attr("class", "alert alert-success");
                    $("#message").html("<strong>Вчитель " + lastName + " " + firstName + " доданий</strong> введіть дані наступного вчителя");
                },
                error: function(){
                    $("#message").attr("class", "alert alert-danger");
                    $("#message").html("<strong>Помилка</strong>");
                }
            });
        });
    })
</script>
</body>
</html>