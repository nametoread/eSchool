<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Edit student</title>
	<style type="text/css">
	.header{
		height: 50px;
		background: #BCC8D2;
		border: solid 1px black; 
	}
	.main{
		margin-left: 40%;
		padding-top: 15px;
		font-size: 18px;
	}
	.row{
		display: table-row;

	}	
	#selectClass{
		margin-top: 15px;
		width: 130px;
	}
	label{
		padding-top: 15px;
		display: table-cell;
		vertical-align: middle;
	}
	input{
		margin-top: 15px;
		height: 20px;
	}
	button{
		margin-top: 22px;
		width: 150px;
		height: 32px;
		background-color: #72a8ff;
		font-size: 18px;
		align-self: center;
	}
</style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

</head>
<body style="background-color: #F2EDBB">
	<div class="header">
		<span style="float: left; margin-left: 10px; margin-top: 15px" id="loggeduser">Ви увійшли як Admin01</span>
		<span style="float: left; margin-left: 35%; margin-top: 15px" id="status"> Статус: Адміністратор</span>
		<span style="float: right; margin-right: 10px; margin-top: 15px"><a href="#"> Вийти</a></span>
	</div>
	<div class="main">
		<form action="localhost:8080/student/{id}" method="PUT">
			<div class="row">
				<label for="firstname">Імя:</label>
				<input id="fname" type="text" name="firstname">
			</div>
			<div class="row">
				<label for="lastname">Прізвище:</label>
				<input id="lname" type="text" name="lastname">
			</div>
			<div class="row">
				<label for="login">Логін:</label>
				<input id="username" type="text" name="login">
			</div>
			<div class="row">
				<label for="select" ">Класс:</label>
				<select id="selectClass" name="select"></select>
			</div>
			<div class="row">
				<label for="email">Електронна адреса:</label>
				<input id="mail" type="text" name="email">
			</div>
			<div class="row">
				<label for="phone">Телефон:</label>
				<input id="mobile" type="text" name="phone">
			</div>
			<div align="center" style="margin-right: 50%;">
				<button type="Submit">Зберегти</button>
			</div>
		</form>
		<form style="padding-top: 50px">
			<div class="row">
				<label for="oldPass">Старий пароль:</label>
				<input id="oldPass" type="password" name="oldPass">
			</div>
			<div class="row">
				<label for="oldPass">Новий пароль:</label>
				<input id="newPass" type="password" name="newPass">
			</div><div class="row">
				<label for="newPassRepeat">Повторіть новий пароль пароль:</label>
				<input id="newPassRepeat" type="password" name="newPassRepeat">
			</div>
			<div align="center" style="margin-right: 50%;">
				<button type="Submit">Змінити пароль</button>
			</div>
		</form>

	</div>
	<script type="text/javascript">
		$(document).ready(function () {

			$.getJSON('http://localhost:8080/students/1', function (data) {
				$("#fname").attr("value", data.firstname);
				$("#lname").attr("value", data.lastname);
				$("#username").attr("value", data.login);
				$('#selectClass').append($('<option>', {
					text: data.classe
				}));
				$('#selectClass').val(data.classe);
				$("#mail").attr("value", data.email);
				$("#mobile").attr("value", data.phone);
			});

			$.getJSON('http://localhost:8080/classes', function (data2) {
				console.log(data2);
				var names = data2.map(function (item) {
					return item.classYear + '-' + item.className;
				});
				$.each(names, function (i, item) {
					$('#selectClass').append($('<option>', { 
						value: data2[i].id,
						text : item
					}));
				});
			});
		})
		
	</script>
</body>
</html>